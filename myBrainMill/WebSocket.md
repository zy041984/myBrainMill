# 概述
基于tcp
应用层
html5规范的一部分
浏览器与服务器全双工通信，
客户端发起连接，服务器接收，
然后双方均可以主动向对方通信
并且保持连接状态
# 实现
## 握手
客户端执行new websocket的时候，使用http发出请求报文进行握手申请，这里有一个字符串key
服务器接收到key，与某个字符串进行连接，新字符串经过sha1算法，再进行base64编码，返回客户端。
客户端验证，握手成功
后续就可以使用websocket进行全双工通信
## 数据传输
基于帧而非基于流
数据过大可以封装在一系列帧中
客户端向服务器发送的数据必须进行掩码
服务器向客户端发送的数据必须不能掩码
## 关闭连接
理论上需要服务器先关闭连接，客户端收到控制后再关
异常情况下可以客户端发送给服务器让其先关，客户端接收不到来自服务器的信息之后再关闭自己